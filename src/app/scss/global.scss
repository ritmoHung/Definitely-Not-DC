@tailwind base;
@tailwind components;
@tailwind utilities;

@import "colors.module";
@import "components";
@import "animations";
@import "_constants";
@import "_mixins";
@import "_schemata";

/* --------------------------- BREAKPOINTS ---------------------------
 *  xs     sm     md     lg      xl    2xl
 * 420px  576px  768px  992px  1200px 1400px
 */



/* -------------------------- TYPOGRAPHY -------------------------- */
.font-sans {
    font-family: var(--font-manrope), var(--font-noto-sans-tc), sans-serif;
}

h1, h2, h3, h4, h5, h6 {
    // text-wrap: balance;
    line-height: 1.3;
}

h1 {
    font-size: $fs-700;
    font-weight: $fw-heavy;
    @supports (font-variation-settings: normal) {
        font-variation-settings: "wght" $fw-heavy;
    }
}

h2 {
    font-size: $fs-600;
    font-weight: $fw-bold;
    @supports (font-variation-settings: normal) {
        font-variation-settings: "wght" $fw-bold;
    }
}

h3 {
    font-size: $fs-500;
    font-weight: $fw-bold;
    @supports (font-variation-settings: normal) {
        font-variation-settings: "wght" $fw-bold;
    }
}

h4 {
    font-size: $fs-400;
    font-weight: $fw-bold;
    @supports (font-variation-settings: normal) {
        font-variation-settings: "wght" $fw-bold;
    }
}

p {
    // font-size: $fs-400;
    line-height: 1.6;
    text-align: justify;
}

.text-fineprint {
    font-size: $fs-300;
    line-height: 1.5;
}

.text-microprint {
    font-size: $fs-200;
    font-weight: $fw-light;
    line-height: 1.25;
    letter-spacing: normal;
}



/* ----------------------------- BODY ----------------------------- */
html {
    color-scheme: dark;
    scroll-behavior: smooth;
    scroll-padding-top: 6rem;
}

body {
    overflow-x: hidden;
    overflow-y: overlay !important;
    scrollbar-gutter: stable both-edges;

    @extend .font-sans;
    font-size: $fs-400;
    letter-spacing: 0.04em;
}



/* ---------------------------- LAYOUT ---------------------------- */
@mixin wrapper-props($m1: 4rem, $m2: 6rem, $w: 1400px) {
    --margin: #{$m1};
    display: grid;
    grid-template-columns: minmax(0, 1fr);
    width: min(100% - var(--margin), $w);
    margin-inline: auto;

    @media screen and (min-width: 576px) {
        --margin: #{$m2};
    }
}
.wrapper {
    @include wrapper-props;
}
.wrapper-sm {
    @include wrapper-props(2rem, 4rem, 1000px);
}
.wrapper-lg {
    @include wrapper-props(4rem, 6rem, 1800px);
}



/* ---------------------------- COLORS ---------------------------- */
.text-primary, select, select option {
    @include customThemed($text-schema, $include-same-tag: true) using ($theme) {
        color: map-get($theme, "text-color");
    }
}
.text-secondary {
    @include customThemed($text-secondary-schema) using ($theme) {
        color: map-get($theme, "text-color");
    }
}
.text-accent {
    @include themed($accent-schema) using ($theme) {
        color: map-get($theme, "accent-color");
    }
}

.bg-primary {
    @include customThemed($bg-schema, $include-same-tag: true) using ($theme) {
        background-color: map-get($theme, "bg-color");
    }
}
.bg-secondary {
    @include customThemed($bg-secondary-schema) using ($theme) {
        background-color: map-get($theme, "bg-color");
    }
}

.bg-accent {
    @include themed($accent-schema) using ($theme) {
        background-color: map-get($theme, "accent-color");
    }
}



/* ---------------------------- STYLES ---------------------------- */
.twemoji {
    display: inline;
    height: 1.1em;
    width: 1.1em;
    margin-inline: 0.2em;
    vertical-align: -0.15em;
}

input, textarea {
    &::placeholder {
        @extend .text-fineprint;
        display: block;
        font-weight: $fw-light;
    }
}

input[data-dirty="false"], input[data-dirty="true"] {
    @extend .tile-border-rounded-xs;
}

input[data-dirty="true"]:invalid {
    @extend .tile-border-rounded-red-xs;
}



/* ---------------------------- PSEUDO ---------------------------- */
::selection, ::-webkit-selection {
    @include themed($selection-schema) using ($theme) {
        color: map-get($theme, "bg-color");
        -webkit-text-fill-color: map-get($theme, "bg-color");
        -moz-text-fill-color: map-get($theme, "bg-color");
        text-fill-color: map-get($theme, "bg-color");
        background: map-get($theme, "text-color");
    }
}

* {
    @include custom-scrollbar();
}